<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P&C Candys</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        .menu-section {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.7s ease-in-out, opacity 0.7s ease-in-out;
            opacity: 0;
        }
        .menu-section.open {
            max-height: 2000px;
            opacity: 1;
        }
        .menu-button {
            transition: all 0.3s ease-in-out;
            border: 2px solid #d4af37;
        }
        .menu-button:hover {
            transform: translateY(-3px);
            background-color: #d4af37;
            color: #1f2937;
        }
        .menu-button i {
            transition: transform 0.3s ease-in-out;
        }
        .menu-button.open i {
            transform: rotate(180deg);
        }
        .product-card {
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }
        .carousel-slide {
            display: none;
            opacity: 0;
            transition: opacity 0.7s ease-in-out;
        }
        .carousel-slide.active {
            display: block;
            opacity: 1;
        }
        .carousel-dot {
            cursor: pointer;
            height: 12px;
            width: 12px;
            margin: 0 6px;
            background-color: #d1d5db;
            border-radius: 50%;
            display: inline-block;
            transition: background-color 0.3s ease;
        }
        .carousel-dot.active {
            background-color: #d4af37;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Navbar -->
    <nav class="bg-gray-800 text-white p-4 sticky top-0 z-50 shadow-lg">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-3xl font-serif text-yellow-500">P&C Candys</h1>
            <div class="space-x-6">
                <a href="#nosotros" class="text-lg hover:text-yellow-500 transition-colors">Nosotros</a>
                <a href="#productos" class="text-lg hover:text-yellow-500 transition-colors">Productos</a>
                <a href="#pedidos" class="text-lg hover:text-yellow-500 transition-colors">Pedidos</a>
                <a href="#contacto" class="text-lg hover:text-yellow-500 transition-colors">Contacto</a>
            </div>
        </div>
    </nav>

    <!-- Sección Nosotros -->
    <section id="nosotros" class="py-20 bg-white">
        <div class="container mx-auto text-center">
            <h2 class="text-4xl font-serif text-gray-800 mb-6">Sobre Nosotros</h2>
            <p class="text-gray-600 max-w-3xl mx-auto text-lg">P&C Candys es un emprendimiento creado con pasión por Paulo y Carol. Nuestras gomitas enchiladas, charolas únicas y postres artesanales combinan sabor, creatividad y amor. Cada producto está diseñado para ofrecer una experiencia inolvidable, con un toque casero que nos distingue. ¡Únete a nuestra dulce aventura! 💕</p>
        </div>
    </section>

    <!-- Sección Carrusel -->
    <section class="py-16 bg-gray-50">
        <div class="container mx-auto">
            <h2 class="text-3xl font-serif text-gray-800 text-center mb-8">Nuestros Productos</h2>
            <div class="relative">
                <div class="carousel">
                    <div class="carousel-slide active">
                        <img src="https://via.placeholder.com/800x400?text=Aros+de+Durazno" alt="Aros de Durazno" class="w-full h-96 object-cover rounded-lg shadow-lg">
                    </div>
                    <div class="carousel-slide">
                        <img src="https://via.placeholder.com/800x400?text=Charola+Deluxe" alt="Charola Deluxe" class="w-full h-96 object-cover rounded-lg shadow-lg">
                    </div>
                    <div class="carousel-slide">
                        <img src="https://via.placeholder.com/800x400?text=Manzana+con+Chamoy" alt="Manzana con Chamoy" class="w-full h-96 object-cover rounded-lg shadow-lg">
                    </div>
                </div>
                <button class="absolute top-1/2 left-4 transform -translate-y-1/2 bg-gray-800 text-yellow-500 p-3 rounded-full hover:bg-yellow-500 hover:text-gray-800 transition-colors" id="prev-slide">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="absolute top-1/2 right-4 transform -translate-y-1/2 bg-gray-800 text-yellow-500 p-3 rounded-full hover:bg-yellow-500 hover:text-gray-800 transition-colors" id="next-slide">
                    <i class="fas fa-chevron-right"></i>
                </button>
                <div class="text-center mt-4">
                    <span class="carousel-dot active" data-slide="0"></span>
                    <span class="carousel-dot" data-slide="1"></span>
                    <span class="carousel-dot" data-slide="2"></span>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección Productos -->
    <section id="productos" class="py-20 bg-gray-50">
        <div class="container mx-auto">
            <h2 class="text-3xl font-serif text-gray-800 text-center mb-10">Explora Nuestro Menú</h2>
            
            <!-- Bolsas de Gomitas -->
            <div class="mb-10">
                <button class="menu-button bg-white text-gray-800 px-8 py-4 rounded-lg w-full flex justify-between items-center font-serif text-xl shadow-md hover:shadow-lg" data-target="bolsas-gomitas">
                    <span>Bolsas de Gomitas</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div id="bolsas-gomitas" class="menu-section mt-6 bg-[#FFF5E1] p-6 rounded-lg">
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                        <div class="product-card bg-white p-6 rounded-lg shadow-md text-center">
                            <img src="https://via.placeholder.com/300x200" alt="Corazones" class="mx-auto mb-4 rounded-lg">
                            <h3 class="text-xl font-serif text-gray-800">Corazones</h3>
                            <p class="text-gray-600">Ahogadas: $10 / Empanizadas: $15</p>
                            <select class="w-full p-2 mb-3 border rounded" data-name="Corazones">
                                <option value="Ahogadas-10">Ahogadas - $10</option>
                                <option value="Empanizadas-15">Empanizadas - $15</option>
                            </select>
                            <button class="bg-gray-800 text-yellow-500 px-4 py-2 rounded-lg hover:bg-yellow-500 hover:text-gray-800 transition-colors add-to-cart">Agregar</button>
                        </div>
                        <div class="product-card bg-white p-6 rounded-lg shadow-md text-center">
                            <img src="https://via.placeholder.com/300x200" alt="Xtreme" class="mx-auto mb-4 rounded-lg">
                            <h3 class="text-xl font-serif text-gray-800">Xtreme</h3>
                            <p class="text-gray-600">Ahogadas: $10 / Empanizadas: $15</p>
                            <select class="w-full p-2 mb-3 border rounded" data-name="Xtreme">
                                <option value="Ahogadas-10">Ahogadas - $10</option>
                                <option value="Empanizadas-15">Empanizadas - $15</option>
                            </select>
                            <button class="bg-gray-800 text-yellow-500 px-4 py-2 rounded-lg hover:bg-yellow-500 hover:text-gray-800 transition-colors add-to-cart">Agregar</button>
                        </div>
                        <div class="product-card bg-white p-6 rounded-lg shadow-md text-center">
                            <img src="https://via.placeholder.com/300x200" alt="Aros de Durazno" class="mx-auto mb-4 rounded-lg">
                            <h3 class="text-xl font-serif text-gray-800">Aros de Durazno</h3>
                            <p class="text-gray-600">4pz: $10 / 6pz: $15</p>
                            <select class="w-full p-2 mb-3 border rounded" data-name="Aros de Durazno">
                                <option value="4pz-Naturales-10">4pz Naturales - $10</option>
                                <option value="4pz-Ahogadas-10">4pz Ahogadas - $10</option>
                                <option value="4pz-Empanizadas-15">4pz Empanizadas - $15</option>
                                <option value="6pz-Naturales-15">6pz Naturales - $15</option>
                                <option value="6pz-Ahogadas-15">6pz Ahogadas - $15</option>
                                <option value="6pz-Empanizadas-20">6pz Empanizadas - $20</option>
                            </select>
                            <button class="bg-gray-800 text-yellow-500 px-4 py-2 rounded-lg hover:bg-yellow-500 hover:text-gray-800 transition-colors add-to-cart">Agregar</button>
                        </div>
                        <div class="product-card bg-white p-6 rounded-lg shadow-md text-center">
                            <img src="https://via.placeholder.com/300x200" alt="Aros de Manzana" class="mx-auto mb-4 rounded-lg">
                            <h3 class="text-xl font-serif text-gray-800">Aros de Manzana</h3>
                            <p class="text-gray-600">4pz: $10 / 6pz: $15</p>
                            <select class="w-full p-2 mb-3 border rounded" data-name="Aros de Manzana">
                                <option value="4pz-Naturales-10">4pz Naturales - $10</option>
                                <option value="4pz-Ahogadas-10">4pz Ahogadas - $10</option>
                                <option value="4pz-Empanizadas-15">4pz Empanizadas - $15</option>
                                <option value="6pz-Naturales-15">6pz Naturales - $15</option>
                                <option value="6pz-Ahogadas-15">6pz Ahogadas - $15</option>
                                <option value="6pz-Empanizadas-20">6pz Empanizadas - $20</option>
                            </select>
                            <button class="bg-gray-800 text-yellow-500 px-4 py-2 rounded-lg hover:bg-yellow-500 hover:text-gray-800 transition-colors add-to-cart">Agregar</button>
                        </div>
                        <div class="product-card bg-white p-6 rounded-lg shadow-md text-center">
                            <img src="https://via.placeholder.com/300x200" alt="Frutas Enchiladas" class="mx-auto mb-4 rounded-lg">
                            <h3 class="text-xl font-serif text-gray-800">Frutas Enchiladas</h3>
                            <p class="text-gray-600">Ahogadas: $10 / Empanizadas: $15</p>
                            <select class="w-full p-2 mb-3 border rounded" data-name="Frutas Enchiladas">
                                <option value="Ahogadas-10">Ahogadas - $10</option>
                                <option value="Empanizadas-15">Empanizadas - $15</option>
                            </select>
                            <button class="bg-gray-800 text-yellow-500 px-4 py-2 rounded-lg hover:bg-yellow-500 hover:text-gray-800 transition-colors add-to-cart">Agregar</button>
                        </div>
                        <div class="product-card bg-white p-6 rounded-lg shadow-md text-center">
                            <img src="https://via.placeholder.com/300x200" alt="Orugas y Panditas" class="mx-auto mb-4 rounded-lg">
                            <h3 class="text-xl font-serif text-gray-800">Orugas y Panditas</h3>
                            <p class="text-gray-600">Ahogadas: $10 / Empanizadas: $15</p>
                            <select class="w-full p-2 mb-3 border rounded" data-name="Orugas y Panditas">
                                <option value="Ahogadas-10">Ahogadas - $10</option>
                                <option value="Empanizadas-15">Empanizadas - $15</option>
                            </select>
                            <button class="bg-gray-800 text-yellow-500 px-4 py-2 rounded-lg hover:bg-yellow-500 hover:text-gray-800 transition-colors add-to-cart">Agregar</button>
                        </div>
                        <div class="product-card bg-white p-6 rounded-lg shadow-md text-center">
                            <img src="https://via.placeholder.com/300x200" alt="Manguitos" class="mx-auto mb-4 rounded-lg">
                            <h3 class="text-xl font-serif text-gray-800">Manguitos</h3>
                            <p class="text-gray-600">Ahogadas: $10 / Empanizadas: $15</p>
                            <select class="w-full p-2 mb-3 border rounded" data-name="Manguitos">
                                <option value="Ahogadas-10">Ahogadas - $10</option>
                                <option value="Empanizadas-15">Empanizadas - $15</option>
                            </select>
                            <button class="bg-gray-800 text-yellow-500 px-4 py-2 rounded-lg hover:bg-yellow-500 hover:text-gray-800 transition-colors add-to-cart">Agregar</button>
                        </div>
                        <div class="product-card bg-white p-6 rounded-lg shadow-md text-center">
                            <img src="https://via.placeholder.com/300x200" alt="Gajos de Naranja" class="mx-auto mb-4 rounded-lg">
                            <h3 class="text-xl font-serif text-gray-800">Gajos de Naranja</h3>
                            <p class="text-gray-600">Ahogadas: $10 / Empanizadas: $15</p>
                            <select class="w-full p-2 mb-3 border rounded" data-name="Gajos de Naranja">
                                <option value="Ahogadas-10">Ahogadas - $10</option>
                                <option value="Empanizadas-15">Empanizadas - $15</option>
                            </select>
                            <button class="bg-gray-800 text-yellow-500 px-4 py-2 rounded-lg hover:bg-yellow-500 hover:text-gray-800 transition-colors add-to-cart">Agregar</button>
                        </div>
                        <div class="product-card bg-white p-6 rounded-lg shadow-md text-center">
                            <img src="https://via.placeholder.com/300x200" alt="Delfines" class="mx-auto mb-4 rounded-lg">
                            <h3 class="text-xl font-serif text-gray-800">Delfines</h3>
                            <p class="text-gray-600">Ahogadas: $10 / Empanizadas: $15</p>
                            <select class="w-full p-2 mb-3 border rounded" data-name="Delfines">
                                <option value="Ahogadas-10">Ahogadas - $10</option>
                                <option value="Empanizadas-15">Empanizadas - $15</option>
                            </select>
                            <button class="bg-gray-800 text-yellow-500 px-4 py-2 rounded-lg hover:bg-yellow-500 hover:text-gray-800 transition-colors add-to-cart">Agregar</button>
                        </div>
                        <div class="product-card bg-white p-6 rounded-lg shadow-md text-center">
                            <img src="https://via.placeholder.com/300x200" alt="Pingüinos" class="mx-auto mb-4 rounded-lg">
                            <h3 class="text-xl font-serif text-gray-800">Pingüinos</h3>
                            <p class="text-gray-600">Próximamente</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Charolas -->
            <div class="mb-10">
                <button class="menu-button bg-white text-gray-800 px-8 py-4 rounded-lg w-full flex justify-between items-center font-serif text-xl shadow-md hover:shadow-lg" data-target="charolas">
                    <span>Charolas</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div id="charolas" class="menu-section mt-6 bg-[#FFF5E1] p-6 rounded-lg">
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                        <div class="product-card bg-white p-6 rounded-lg shadow-md text-center">
                            <img src="https://via.placeholder.com/300x200" alt="Mini Mix" class="mx-auto mb-4 rounded-lg">
                            <h3 class="text-xl font-serif text-gray-800">Mini Mix</h3>
                            <p class="text-gray-600">1 a 4 tipos de gomitas</p>
                            <p class="text-gray-600">Naturales: $40 / Ahogadas: $50 / Empanizadas: $60</p>
                            <select class="w-full p-2 mb-3 border rounded" data-name="Mini Mix">
                                <option value="Naturales-40">Naturales - $40</option>
                                <option value="Ahogadas-50">Ahogadas - $50</option>
                                <option value="Empanizadas-60">Empanizadas - $60</option>
                            </select>
                            <select multiple class="w-full p-2 mb-3 border rounded gomita-select" data-max="4" data-name="Mini Mix Gomitas">
                                <option value="Corazones">Corazones</option>
                                <option value="Xtreme">Xtreme</option>
                                <option value="Aros de Durazno">Aros de Durazno</option>
                                <option value="Aros de Manzana">Aros de Manzana</option>
                                <option value="Frutas Enchiladas">Frutas Enchiladas</option>
                                <option value="Orugas y Panditas">Orugas y Panditas</option>
                                <option value="Manguitos">Manguitos</option>
                                <option value="Gajos de Naranja">Gajos de Naranja</option>
                                <option value="Delfines">Delfines</option>
                            </select>
                            <p class="text-gray-600 text-sm">Selecciona de 1 a 4 tipos de gomitas</p>
                            <button class="bg-gray-800 text-yellow-500 px-4 py-2 rounded-lg hover:bg-yellow-500 hover:text-gray-800 transition-colors add-to-cart">Agregar</button>
                        </div>
                        <div class="product-card bg-white p-6 rounded-lg shadow-md text-center">
                            <img src="https://via.placeholder.com/300x200" alt="Charola Deluxe" class="mx-auto mb-4 rounded-lg">
                            <h3 class="text-xl font-serif text-gray-800">Charola Deluxe</h3>
                            <p class="text-gray-600">5 tipos de gomitas + manzana con chamoy</p>
                            <p class="text-gray-600">Naturales: $90 / Ahogadas: $100 / Empanizadas: $110</p>
                            <select class="w-full p-2 mb-3 border rounded" data-name="Charola Deluxe">
                                <option value="Naturales-90">Naturales - $90</option>
                                <option value="Ahogadas-100">Ahogadas - $100</option>
                                <option value="Empanizadas-110">Empanizadas - $110</option>
                            </select>
                            <select multiple class="w-full p-2 mb-3 border rounded gomita-select" data-max="5" data-exact="5" data-name="Charola Deluxe Gomitas">
                                <option value="Corazones">Corazones</option>
                                <option value="Xtreme">Xtreme</option>
                                <option value="Aros de Durazno">Aros de Durazno</option>
                                <option value="Aros de Manzana">Aros de Manzana</option>
                                <option value="Frutas Enchiladas">Frutas Enchiladas</option>
                                <option value="Orugas y Panditas">Orugas y Panditas</option>
                                <option value="Manguitos">Manguitos</option>
                                <option value="Gajos de Naranja">Gajos de Naranja</option>
                                <option value="Delfines">Delfines</option>
                            </select>
                            <p class="text-gray-600 text-sm">Selecciona exactamente 5 tipos de gomitas</p>
                            <button class="bg-gray-800 text-yellow-500 px-4 py-2 rounded-lg hover:bg-yellow-500 hover:text-gray-800 transition-colors add-to-cart">Agregar</button>
                        </div>
                        <div class="product-card bg-white p-6 rounded-lg shadow-md text-center">
                            <img src="https://via.placeholder.com/300x200" alt="Maxi Mix" class="mx-auto mb-4 rounded-lg">
                            <h3 class="text-xl font-serif text-gray-800">Maxi Mix</h3>
                            <p class="text-gray-600">6 tipos de gomitas</p>
                            <p class="text-gray-600">Naturales: $60 / Ahogadas: $70 / Empanizadas: $80</p>
                            <select class="w-full p-2 mb-3 border rounded" data-name="Maxi Mix">
                                <option value="Naturales-60">Naturales - $60</option>
                                <option value="Ahogadas-70">Ahogadas - $70</option>
                                <option value="Empanizadas-80">Empanizadas - $80</option>
                            </select>
                            <select multiple class="w-full p-2 mb-3 border rounded gomita-select" data-max="6" data-exact="6" data-name="Maxi Mix Gomitas">
                                <option value="Corazones">Corazones</option>
                                <option value="Xtreme">Xtreme</option>
                                <option value="Aros de Durazno">Aros de Durazno</option>
                                <option value="Aros de Manzana">Aros de Manzana</option>
                                <option value="Frutas Enchiladas">Frutas Enchiladas</option>
                                <option value="Orugas y Panditas">Orugas y Panditas</option>
                                <option value="Manguitos">Manguitos</option>
                                <option value="Gajos de Naranja">Gajos de Naranja</option>
                                <option value="Delfines">Delfines</option>
                            </select>
                            <p class="text-gray-600 text-sm">Selecciona exactamente 6 tipos de gomitas</p>
                            <button class="bg-gray-800 text-yellow-500 px-4 py-2 rounded-lg hover:bg-yellow-500 hover:text-gray-800 transition-colors add-to-cart">Agregar</button>
                        </div>
                        <div class="product-card bg-white p-6 rounded-lg shadow-md text-center">
                            <img src="https://via.placeholder.com/300x200" alt="Mega Deluxe" class="mx-auto mb-4 rounded-lg">
                            <h3 class="text-xl font-serif text-gray-800">Mega Deluxe</h3>
                            <p class="text-gray-600">10 tipos de gomitas + manzana con chamoy</p>
                            <p class="text-gray-600">Naturales: $160 / Ahogadas: $170 / Empanizadas: $180</p>
                            <select class="w-full p-2 mb-3 border rounded" data-name="Mega Deluxe">
                                <option value="Naturales-160">Naturales - $160</option>
                                <option value="Ahogadas-170">Ahogadas - $170</option>
                                <option value="Empanizadas-180">Empanizadas - $180</option>
                            </select>
                            <select multiple class="w-full p-2 mb-3 border rounded gomita-select" data-max="10" data-exact="10" data-name="Mega Deluxe Gomitas">
                                <option value="Corazones">Corazones</option>
                                <option value="Xtreme">Xtreme</option>
                                <option value="Aros de Durazno">Aros de Durazno</option>
                                <option value="Aros de Manzana">Aros de Manzana</option>
                                <option value="Frutas Enchiladas">Frutas Enchiladas</option>
                                <option value="Orugas y Panditas">Orugas y Panditas</option>
                                <option value="Manguitos">Manguitos</option>
                                <option value="Gajos de Naranja">Gajos de Naranja</option>
                                <option value="Delfines">Delfines</option>
                            </select>
                            <p class="text-gray-600 text-sm">Selecciona exactamente 10 tipos de gomitas</p>
                            <button class="bg-gray-800 text-yellow-500 px-4 py-2 rounded-lg hover:bg-yellow-500 hover:text-gray-800 transition-colors add-to-cart">Agregar</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Extras -->
            <div class="mb-10">
                <button class="menu-button bg-white text-gray-800 px-8 py-4 rounded-lg w-full flex justify-between items-center font-serif text-xl shadow-md hover:shadow-lg" data-target="extras">
                    <span>Extras</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div id="extras" class="menu-section mt-6 bg-[#FFF5E1] p-6 rounded-lg">
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-8">
                        <div class="product-card bg-white p-6 rounded-lg shadow-md text-center">
                            <img src="https://via.placeholder.com/300x200" alt="Manzana con Chamoy" class="mx-auto mb-4 rounded-lg">
                            <h3 class="text-xl font-serif text-gray-800">Manzana con Chamoy</h3>
                            <p class="text-gray-600">$15</p>
                            <button class="bg-gray-800 text-yellow-500 px-4 py-2 rounded-lg hover:bg-yellow-500 hover:text-gray-800 transition-colors add-to-cart" data-name="Manzana con Chamoy" data-price="15">Agregar</button>
                        </div>
                        <div class="product-card bg-white p-6 rounded-lg shadow-md text-center">
                            <img src="https://via.placeholder.com/300x200" alt="Chamoy Extra" class="mx-auto mb-4 rounded-lg">
                            <h3 class="text-xl font-serif text-gray-800">Chamoy Extra</h3>
                            <p class="text-gray-600">$10</p>
                            <button class="bg-gray-800 text-yellow-500 px-4 py-2 rounded-lg hover:bg-yellow-500 hover:text-gray-800 transition-colors add-to-cart" data-name="Chamoy Extra" data-price="10">Agregar</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mini Hotcakes -->
            <div class="mb-10">
                <button class="menu-button bg-white text-gray-800 px-8 py-4 rounded-lg w-full flex justify-between items-center font-serif text-xl shadow-md hover:shadow-lg" data-target="mini-hotcakes">
                    <span>Mini Hotcakes</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div id="mini-hotcakes" class="menu-section mt-6 bg-[#F4C47B] p-6 rounded-lg">
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                        <div class="product-card bg-white p-6 rounded-lg shadow-md text-center">
                            <img src="https://via.placeholder.com/300x200" alt="Mini Hotcakes" class="mx-auto mb-4 rounded-lg">
                            <h3 class="text-xl font-serif text-gray-800">Mini Hotcakes</h3>
                            <p class="text-gray-600">Próximamente</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Fresas con Crema -->
            <div class="mb-10">
                <button class="menu-button bg-white text-gray-800 px-8 py-4 rounded-lg w-full flex justify-between items-center font-serif text-xl shadow-md hover:shadow-lg" data-target="fresas-con-crema">
                    <span>Fresas con Crema</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div id="fresas-con-crema" class="menu-section mt-6 bg-[#FFE6EB] p-6 rounded-lg">
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                        <div class="product-card bg-white p-6 rounded-lg shadow-md text-center">
                            <img src="https://via.placeholder.com/300x200" alt="Fresas con Crema" class="mx-auto mb-4 rounded-lg">
                            <h3 class="text-xl font-serif text-gray-800">Fresas con Crema</h3>
                            <p class="text-gray-600">Próximamente</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección Pedidos -->
    <section id="pedidos" class="py-20 bg-white">
        <div class="container mx-auto">
            <h2 class="text-3xl font-serif text-gray-800 text-center mb-10">Tu Pedido</h2>
            <div class="max-w-3xl mx-auto">
                <div id="cart-items" class="mb-8 bg-gray-50 p-6 rounded-lg shadow-md">
                    <p class="text-gray-600 text-center">Tu carrito está vacío.</p>
                </div>
                <div class="text-right">
                    <p class="text-xl font-serif text-gray-800">Total: $<span id="cart-total">0.00</span></p>
                </div>
                <div class="mt-8 bg-gray-50 p-6 rounded-lg shadow-md">
                    <input type="text" id="customer-name" placeholder="Nombre" class="w-full p-3 mb-4 border rounded-lg">
                    <input type="text" id="customer-contact" placeholder="Número de Teléfono o Instagram (con @)" class="w-full p-3 mb-4 border rounded-lg">
                    <input type="date" id="delivery-date" class="w-full p-3 mb-4 border rounded-lg" title="Selecciona la fecha de entrega (mínimo un día de anticipación o madrugada del mismo día)">
                    <select id="payment-method" class="w-full p-3 mb-4 border rounded-lg">
                        <option value="" disabled selected>Selecciona método de pago</option>
                        <option value="Efectivo">Efectivo</option>
                        <option value="Transferencia">Transferencia</option>
                    </select>
                    <input type="text" id="delivery-address" placeholder="Dirección de entrega (opcional)" class="w-full p-3 mb-4 border rounded-lg">
                    <div id="map" class="w-full h-80 mb-4 border rounded-lg"></div>
                    <p id="map-message" class="text-gray-600 text-sm mb-4">Cargando tu ubicación... Haz clic en el mapa para ajustar la ubicación de entrega.</p>
                    <input type="hidden" id="latitude" name="latitude">
                    <input type="hidden" id="longitude" name="longitude">
                    <textarea id="customer-notes" placeholder="Notas del pedido (ej. detalles adicionales)" class="w-full p-3 mb-4 border rounded-lg" rows="4"></textarea>
                    <button id="submit-order" class="bg-gray-800 text-yellow-500 px-6 py-3 rounded-lg hover:bg-yellow-500 hover:text-gray-800 transition-colors w-full">Enviar Pedido</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección Contacto -->
    <section id="contacto" class="py-20 bg-gray-50">
        <div class="container mx-auto text-center">
            <h2 class="text-3xl font-serif text-gray-800 mb-8">Contáctanos</h2>
            <p class="text-gray-600 max-w-xl mx-auto mb-8 text-lg">Síguenos en nuestras redes sociales o envíanos un mensaje.</p>
            <div class="flex justify-center space-x-8 mb-10">
                <a href="https://wa.me/524481012425" target="_blank" class="text-gray-800 hover:text-yellow-500 transition-colors">
                    <i class="fab fa-whatsapp fa-2x"></i>
                </a>
                <a href="https://instagram.com/pc.candys" target="_blank" class="text-gray-800 hover:text-yellow-500 transition-colors">
                    <i class="fab fa-instagram fa-2x"></i>
                </a>
                <a href="https://facebook.com/PyC.candys" target="_blank" class="text-gray-800 hover:text-yellow-500 transition-colors">
                    <i class="fab fa-facebook-f fa-2x"></i>
                </a>
            </div>
            <div class="max-w-md mx-auto bg-white p-6 rounded-lg shadow-md">
                <input type="text" id="contact-name" placeholder="Nombre" class="w-full p-3 mb-4 border rounded-lg">
                <input type="text" id="contact-info" placeholder="Número de Teléfono o Instagram" class="w-full p-3 mb-4 border rounded-lg">
                <textarea id="contact-message" placeholder="Mensaje" class="w-full p-3 mb-4 border rounded-lg" rows="4"></textarea>
                <button id="submit-contact" class="bg-gray-800 text-yellow-500 px-6 py-3 rounded-lg hover:bg-yellow-500 hover:text-gray-800 transition-colors w-full">Enviar</button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-6 text-center">
        <p class="text-lg">© 2025 P&C Candys. Todos los derechos reservados.</p>
    </footer>

    <script>
        // Manejo del carrusel
        let currentSlide = 0;
        const slides = document.querySelectorAll('.carousel-slide');
        const dots = document.querySelectorAll('.carousel-dot');

        function showSlide(index) {
            slides.forEach((slide, i) => {
                slide.classList.toggle('active', i === index);
                dots[i].classList.toggle('active', i === index);
            });
            currentSlide = index;
        }

        document.getElementById('prev-slide').addEventListener('click', () => {
            const newIndex = (currentSlide - 1 + slides.length) % slides.length;
            showSlide(newIndex);
        });

        document.getElementById('next-slide').addEventListener('click', () => {
            const newIndex = (currentSlide + 1) % slides.length;
            showSlide(newIndex);
        });

        dots.forEach(dot => {
            dot.addEventListener('click', () => {
                const index = parseInt(dot.dataset.slide);
                showSlide(index);
            });
        });

        setInterval(() => {
            const newIndex = (currentSlide + 1) % slides.length;
            showSlide(newIndex);
        }, 5000);

        // Manejo de menús desplegables
        document.querySelectorAll('.menu-button').forEach(button => {
            button.addEventListener('click', () => {
                const targetId = button.dataset.target;
                const targetSection = document.getElementById(targetId);
                const isOpen = targetSection.classList.contains('open');
                
                document.querySelectorAll('.menu-section').forEach(section => {
                    section.classList.remove('open');
                    section.previousElementSibling.querySelector('i').classList.remove('open');
                });

                if (!isOpen) {
                    targetSection.classList.add('open');
                    button.querySelector('i').classList.add('open');
                }
            });
        });

        // Carrito de compras
        let cart = [];

        function updateCartDisplay() {
            const cartItems = document.getElementById('cart-items');
            const cartTotal = document.getElementById('cart-total');
            if (cart.length === 0) {
                cartItems.innerHTML = '<p class="text-gray-600 text-center">Tu carrito está vacío.</p>';
                cartTotal.textContent = '0.00';
                return;
            }
            cartItems.innerHTML = cart.map((item, index) => `
                <div class="flex justify-between items-center mb-3 p-3 bg-white rounded-lg shadow-sm">
                    <span>${item.name} (${item.variant})${item.gomitas ? ' - Gomitas: ' + item.gomitas.join(', ') : ''} - $${item.price}</span>
                    <button class="text-red-600 text-sm hover:text-red-800 remove-item" data-index="${index}">Eliminar</button>
                </div>
            `).join('');
            const total = cart.reduce((sum, item) => sum + parseFloat(item.price), 0).toFixed(2);
            cartTotal.textContent = total;

            document.querySelectorAll('.remove-item').forEach(button => {
                button.addEventListener('click', () => {
                    const index = button.dataset.index;
                    cart.splice(index, 1);
                    updateCartDisplay();
                });
            });
        }

        // Validar selección de gomitas
        document.querySelectorAll('.gomita-select').forEach(select => {
            select.addEventListener('change', () => {
                const max = parseInt(select.dataset.max);
                const exact = parseInt(select.dataset.exact);
                const selectedOptions = Array.from(select.selectedOptions);
                const name = select.dataset.name;

                if (exact && selectedOptions.length !== exact) {
                    alert(`Por favor, selecciona exactamente ${exact} tipos de gomitas para ${name}.`);
                    while (selectedOptions.length > exact) {
                        selectedOptions.pop().selected = false;
                    }
                } else if (name === 'Mini Mix Gomitas' && selectedOptions.length > max) {
                    alert(`Por favor, selecciona hasta ${max} tipos de gomitas para Mini Mix.`);
                    selectedOptions[max].selected = false;
                }
            });
        });

        // Agregar al carrito
        document.querySelectorAll('.add-to-cart').forEach(button => {
            button.addEventListener('click', () => {
                const name = button.previousElementSibling.dataset.name || button.dataset.name;
                const select = button.previousElementSibling.tagName === 'SELECT' && !button.previousElementSibling.classList.contains('gomita-select') ? button.previousElementSibling : null;
                const gomitaSelect = button.previousElementSibling.classList.contains('gomita-select') ? button.previousElementSibling : button.previousElementSibling.previousElementSibling.classList.contains('gomita-select') ? button.previousElementSibling.previousElementSibling : null;
                let variant, price, gomitas = [];

                if (select) {
                    const [variantName, priceValue] = select.value.split('-').slice(-2);
                    variant = select.options[select.selectedIndex].text.split(' - ')[0];
                    price = priceValue;
                } else {
                    variant = 'N/A';
                    price = button.dataset.price;
                }

                if (gomitaSelect) {
                    gomitas = Array.from(gomitaSelect.selectedOptions).map(option => option.value);
                    const max = parseInt(gomitaSelect.dataset.max);
                    const exact = parseInt(gomitaSelect.dataset.exact);
                    const gomitaName = gomitaSelect.dataset.name;

                    if (gomitas.length === 0) {
                        alert('Por favor, selecciona al menos un tipo de gomita.');
                        return;
                    }

                    if (exact && gomitas.length !== exact) {
                        alert(`Por favor, selecciona exactamente ${exact} tipos de gomitas para ${gomitaName}.`);
                        return;
                    }

                    if (gomitaName === 'Mini Mix Gomitas' && gomitas.length > max) {
                        alert(`Por favor, selecciona hasta ${max} tipos de gomitas para Mini Mix.`);
                        return;
                    }
                }

                cart.push({ name, variant, price, gomitas });
                updateCartDisplay();
            });
        });

        // Configuración del mapa con Leaflet
        const map = L.map('map').setView([20.5937, -100.3914], 13);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        let marker = null;

        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(
                (position) => {
                    const lat = position.coords.latitude;
                    const lng = position.coords.longitude;
                    map.setView([lat, lng], 15);
                    marker = L.marker([lat, lng]).addTo(map);
                    document.getElementById('latitude').value = lat;
                    document.getElementById('longitude').value = lng;
                    document.getElementById('map-message').textContent = 'Tu ubicación actual está seleccionada. Haz clic en el mapa para ajustarla.';
                },
                (error) => {
                    document.getElementById('map-message').textContent = 'No se pudo obtener tu ubicación. Haz clic en el mapa para seleccionar tu ubicación de entrega.';
                    console.error('Error de geolocalización:', error);
                }
            );
        } else {
            document.getElementById('map-message').textContent = 'La geolocalización no está soportada en este navegador. Haz clic en el mapa para seleccionar tu ubicación de entrega.';
        }

        map.on('click', function(e) {
            const lat = e.latlng.lat;
            const lng = e.latlng.lng;
            if (marker) {
                marker.setLatLng(e.latlng);
            } else {
                marker = L.marker(e.latlng).addTo(map);
            }
            document.getElementById('latitude').value = lat;
            document.getElementById('longitude').value = lng;
            document.getElementById('map-message').textContent = 'Ubicación seleccionada. Haz clic en el mapa para ajustarla.';
        });

        // Validación de fecha
        const deliveryDateInput = document.getElementById('delivery-date');
        const today = new Date();
        today.setHours(0, 0, 0, 0);
        const minDate = new Date(today);
        minDate.setDate(today.getDate());
        deliveryDateInput.min = minDate.toISOString().split('T')[0];

        // Enviar pedido
        document.getElementById('submit-order').addEventListener('click', () => {
            const name = document.getElementById('customer-name').value;
            const contact = document.getElementById('customer-contact').value.trim();
            const deliveryDate = document.getElementById('delivery-date').value;
            const paymentMethod = document.getElementById('payment-method').value;
            const latitude = document.getElementById('latitude').value;
            const longitude = document.getElementById('longitude').value;
            const address = document.getElementById('delivery-address').value || 'No especificada';
            const notes = document.getElementById('customer-notes').value;

            if (!name || !contact || !deliveryDate || !paymentMethod || !latitude || !longitude || cart.length === 0) {
                alert('Por favor, completa todos los campos obligatorios: nombre, contacto, fecha de entrega, método de pago, ubicación en el mapa y agrega productos al pedido.');
                return;
            }

            const selectedDate = new Date(deliveryDate);
            const now = new Date();
            const minDeliveryTime = new Date(now);
            minDeliveryTime.setDate(now.getDate());
            minDeliveryTime.setHours(5, 0, 0, 0);

            if (selectedDate < minDeliveryTime) {
                alert('El pedido debe ser con al menos un día de anticipación o en la madrugada del mismo día (hasta las 5 AM).');
                return;
            }

            const charolas = cart.filter(item => item.name.includes('Mix') || item.name.includes('Deluxe')).map(item => `${item.name} (${item.variant})`);
            const gomitas = cart.filter(item => item.gomitas && item.gomitas.length > 0).flatMap(item => item.gomitas);
            const uniqueGomitas = [...new Set(gomitas)]; // Eliminar duplicados
            const otherItems = cart.filter(item => !item.name.includes('Mix') && !item.name.includes('Deluxe')).map(item => `${item.name} (${item.variant})`);

            const message = `🎀 P&C Candys te consiente 🎀
📦 Pedido programado para: ${deliveryDate}
📍 Entrega en: ${address} (Lat: ${latitude}, Lng: ${longitude})
💰 Total: $${cart.reduce((sum, item) => sum + parseFloat(item.price), 0).toFixed(2)}
👤 Nombre: ${name}
📞 Número de teléfono: ${contact}
💳 Método de pago: ${paymentMethod}
🍽️ Tipo de charola: ${charolas.length > 0 ? charolas.join(', ') : 'Ninguna'}
🍬 Tipo de gomitas: ${uniqueGomitas.length > 0 ? uniqueGomitas.join(', ') : 'Ninguna'}
${otherItems.length > 0 ? '🧁 Otros productos: ' + otherItems.join(', ') : ''}
${notes ? '📝 Notas: ' + notes : ''}

🎁 🍬 ¡Gracias por elegirnos! Nos encargaremos de que tu día esté lleno de dulzura y ese toquecito picosito que tanto te gusta. 💖
🚗✨ Te confirmamos cuando vayamos en camino`;

            // Enviar a WhatsApp del cliente
            let clientUrl;
            if (contact.startsWith('@')) {
                // Instagram: Generar enlace de DM
                const instagramHandle = contact.slice(1); // Quitar el @
                clientUrl = `https://www.instagram.com/direct/new/?text=${encodeURIComponent(message)}`;
                alert('Se abrirá Instagram para enviar el mensaje al cliente. Por favor, inicia sesión y selecciona tu cuenta para enviar el mensaje.');
            } else {
                // WhatsApp: Validar formato de número
                const phoneNumber = contact.replace(/[^0-9+]/g, ''); // Limpiar caracteres no numéricos
                if (!/^\+?[0-9]{10,}$/.test(phoneNumber)) {
                    alert('Por favor, ingresa un número de teléfono válido (10 dígitos o más) o un usuario de Instagram con @.');
                    return;
                }
                clientUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
            }

            // Enviar a WhatsApp del negocio
            const businessUrl = `https://wa.me/524481012425?text=${encodeURIComponent(message)}`;

            // Enviar a Google Forms
            const formUrl = 'https://docs.google.com/forms/d/e/[FORM_ID]/formResponse'; // Reemplaza [FORM_ID] con tu ID de formulario
            const formData = new FormData();
            formData.append('entry.123456789', name); // Nombre
            formData.append('entry.987654321', contact); // Contacto
            formData.append('entry.111222333', deliveryDate); // Fecha de Entrega
            formData.append('entry.444555666', paymentMethod); // Método de Pago
            formData.append('entry.777888999', address); // Dirección
            formData.append('entry.101112131', latitude); // Latitud
            formData.append('entry.141516171', longitude); // Longitud
            formData.append('entry.181920212', notes); // Notas
            formData.append('entry.222324252', cart.map(item => `${item.name} (${item.variant})${item.gomitas ? ' - Gomitas: ' + item.gomitas.join(', ') : ''}`).join('; ')); // Ítems
            formData.append('entry.262728293', cart.reduce((sum, item) => sum + parseFloat(item.price), 0).toFixed(2)); // Total

            fetch(formUrl, {
                method: 'POST',
                body: formData,
                mode: 'no-cors'
            }).then(() => {
                console.log('Datos enviados a Google Forms');
            }).catch(error => {
                console.error('Error al enviar a Google Forms:', error);
            });

            // Mostrar detalles del pedido (respaldo)
            const orderDetails = {
                customer: { name, contact, deliveryDate, paymentMethod, location: { latitude, longitude, address }, notes },
                items: cart,
                total: cart.reduce((sum, item) => sum + parseFloat(item.price), 0).toFixed(2)
            };
            alert('Pedido enviado:\n' + JSON.stringify(orderDetails, null, 2));

            // Abrir enlace de WhatsApp del cliente
            window.open(clientUrl, '_blank');
            // Abrir enlace de WhatsApp del negocio
            window.open(businessUrl, '_blank');

            // Limpiar formulario y carrito
            cart = [];
            updateCartDisplay();
            document.getElementById('customer-name').value = '';
            document.getElementById('customer-contact').value = '';
            document.getElementById('delivery-date').value = '';
            document.getElementById('payment-method').value = '';
            document.getElementById('latitude').value = '';
            document.getElementById('longitude').value = '';
            document.getElementById('delivery-address').value = '';
            document.getElementById('customer-notes').value = '';
            if (marker) {
                map.removeLayer(marker);
                marker = null;
            }
            document.getElementById('map-message').textContent = 'Ubicación seleccionada. Haz clic en el mapa para ajustarla.';
        });

        // Enviar formulario de contacto
        document.getElementById('submit-contact').addEventListener('click', () => {
            const name = document.getElementById('contact-name').value;
            const contact = document.getElementById('contact-info').value.trim();
            const message = document.getElementById('contact-message').value;

            if (!name || !contact || !message) {
                alert('Por favor, completa todos los campos del formulario de contacto.');
                return;
            }

            const contactMessage = `Mensaje de Contacto\nNombre: ${name}\nContacto: ${contact}\nMensaje: ${message}`;
            const businessContactUrl = `https://wa.me/524481012425?text=${encodeURIComponent(contactMessage)}`;

            window.open(businessContactUrl, '_blank');
            alert('Mensaje enviado a P&C Candys. ¡Gracias por contactarnos!');

            document.getElementById('contact-name').value = '';
            document.getElementById('contact-info').value = '';
            document.getElementById('contact-message').value = '';
        });

        // Smooth scroll para los enlaces de navegación
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
    </script>
</body>
</html>